{"version":3,"sources":["common.js"],"names":["document","addEventListener","event","window","site","form","init","_th","querySelectorAll","fieldPhone","i","length","mask","submit","checkForm","checkResult","find","removeClass","each","$","data","re","test","val","addClass","is","parents","trim","obj","fadeOut","selector","duration","element","querySelector","op","timer","setInterval","clearInterval","style","display","opacity","filter","fadeIn","map","$map","coords","split","ymaps","ready","myMap","Map","center","zoom","controls","add","size","behaviors","disable","myPlacemark","Placemark","iconLayout","iconImageHref","iconImageSize","geoObjects","tabs","on","_t","_tData","_tPar","btn","hasClass","setTimeout","burger","$body","classList","contains","remove","yaMap","navigator","userAgent","match"],"mappings":"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","file":"own.js","sourcesContent":["\"use strict\";\n\ndocument.addEventListener(\"DOMContentLoaded\", function (event) {\n  window.site = {};\n  window.site.form = {\n    init: function init() {\n      let _th = this,\n        form = document.querySelectorAll('form'),\n        fieldPhone = document.querySelectorAll('.js-phone');\n      for (let i = 0; i < fieldPhone.length; i++) {\n        fieldPhone[i].mask('+7(999) 999-9999');\n      }\n      for (let i = 0; i < form.length; i++) {\n        form[i].submit(function () {\n          if (!_th.checkForm(form[i])) return false;\n        });\n      }\n    },\n    checkForm: function checkForm(form) {\n      let checkResult = true;\n      form.find('.warning').removeClass('warning');\n      form.find('input, textarea, select').each(function () {\n        if ($(this).data('req')) {\n          switch ($(this).data('type')) {\n            case 'tel':\n              var re = /^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$/im;\n              if (!re.test($(this).val())) {\n                $(this).addClass('warning');\n                checkResult = false;\n              }\n              break;\n            case 'email':\n              var re = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i;\n              if (!re.test($(this).val())) {\n                $(this).addClass('warning');\n                checkResult = false;\n              }\n              break;\n            case 'checkbox_personal':\n              if (!$(this).is(':checked')) {\n                $(this).parents('.checkbox').addClass('warning');\n                checkResult = false;\n              }\n              break;\n            default:\n              if ($.trim($(this).val()) === '') {\n                $(this).addClass('warning');\n                checkResult = false;\n              }\n              break;\n          }\n        }\n      });\n      return checkResult;\n    }\n  }.init();\n  window.site.obj = {\n    fadeOut: function fadeOut(selector, duration) {\n      let element = document.querySelector(selector),\n        op = 1;\n      if(!element)\n        return;\n      let timer = setInterval(function () {\n        if (op <= 0.1){\n            clearInterval(timer);\n            element.style.display = 'none';\n        }\n        element.style.opacity = op;\n        element.style.filter = 'alpha(opacity=' + op * 100 + \")\";\n        op -= op * 0.1;\n      }, duration/10 || 20);\n    },\n    fadeIn: function fadeIn(selector, duration) {\n      let element = document.querySelector(selector),\n        op = 0.1;\n      if(!element)\n        return;\n      element.style.opacity = 0;\n      element.style.display = 'block';\n      let timer = setInterval(function () {\n          if (op >= 1){\n              clearInterval(timer);\n          }\n          element.style.opacity = op;\n          element.style.filter = 'alpha(opacity=' + op * 100 + \")\";\n          op += op * 0.1;\n      }, duration/10 || 20);\n    },\n    map: function map() {\n      let $map = document.querySelector('.js-map'),\n        coords = $map.data('coords').split(',');\n      ymaps.ready(function () {\n        let myMap = new ymaps.Map(\"yaMap\", {\n          center: [coords[0], coords[1]],\n          zoom: $map.data('zoom') || 14,\n          controls: ['largeMapDefaultSet']\n        });\n        myMap.controls.add('zoomControl', {\n          size: 'small'\n        });\n        myMap.behaviors.disable('scrollZoom');\n        let myPlacemark = new ymaps.Placemark(coords, {}, {\n          iconLayout: 'default#image',\n          iconImageHref: 'static/img/pin.png',\n          iconImageSize: [50, 66]\n        });\n        myMap.geoObjects.add(myPlacemark);\n      });\n      return;\n    },\n    tabs: function tabs() {\n      $('.imodels__tabs-nav-btn').on('click', function () {\n        var _t = $(this),\n          _tData = _t.data('tabs-nav'),\n          _tPar = _t.parents('.js-tabs'),\n          tabs = _tPar.find('.imodels__tabs-item'),\n          btn = _tPar.find('.imodels__tabs-nav-btn');\n        if (!_t.hasClass('imodels__tabs-nav-btn--active')) {\n          btn.removeClass('imodels__tabs-nav-btn--active');\n          _t.addClass('imodels__tabs-nav-btn--active');\n          tabs.fadeOut(350);\n          setTimeout(function () {\n            tabs.removeClass('imodels__tabs-nav-btn--active');\n            _tPar.find('.imodels__tabs-item[data-tabs-item=\"' + _tData + '\"]').fadeIn(350);\n          }, 350);\n        }\n        return false;\n      });\n    },\n    burger: function burger() {\n      let _th = this,\n        $body = document.querySelector('body');\n      document.querySelector('.js-burger').addEventListener('click', function() {\n        let _t = this;\n        if (!_t.classList.contains('header__burger--active')) {\n          _t.classList.add('header__burger--active');\n          _th.fadeIn('.nav');\n          $body.classList.add('open-menu');\n        } else {\n          _t.classList.remove('header__burger--active');\n          _th.fadeOut('.nav');\n          $body.classList.remove('open-menu');\n        }\n        return false;\n      });\n    },\n    init: function init() {\n      let $body = document.querySelector('body'),\n        yaMap = document.querySelector('.js-map') || false,\n        tabs = document.querySelector('.js-tabs') || false,\n        burger = document.querySelector('.js-burger') || false;\n\n      //check ios\n      if (navigator.userAgent.match(/(iPod|iPhone|iPad)/)) {\n        $body.classList.add('ios');\n      }\n\n      if (yaMap)\n        this.map();\n\n      if (tabs)\n        this.tabs();\n\n      if (burger)\n        this.burger();\n\n      return this;\n    }\n\n  }.init();\n});\n"]}